<!DOCTYPE html>
<html>
  <head>
    <title>Model to Maps</title>
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no" />
    
    <script src="https://www.google.com/jsapi"></script>
    <script src="../libs/js/head.js"></script>

    <script type="text/javascript">
      window.main_stuff = {}
    </script>

    <script type="text/javascript">
      head.js("js/main.js");
    </script>
<<<<<<< HEAD
    <script type="text/javascript" src="js/load_map.js"></script>

    <script type="text/javascript">  
=======
    
    <script type="text/javascript">    
>>>>>>> menus
      google.load("maps", "3", {
      other_params: "libraries=geometry,drawing&sensor=false",
        });
    </script>
    <script type="text/javascript">
      //google.maps.event.addDomListener(window, 'load', window.main_stuff.init);
    </script>
    <script src="../libs/js/ContextMenu.js"></script>
    <script src="js/menus.js"></script>
    <link href="../libs/js/bootstrap/css/bootstrap.css" rel="stylesheet">
    <link href="css/style.css" rel="stylesheet">

    <script type="text/javascript">
      
      var handleFiles = function(files) {
        var reader = new FileReader();
        var xml_text;
        reader.onloadend= function(e) {
          xml_text = e.target.result;
          var xml = $.parseXML(xml_text);
          window.textarea_scenario = window.aurora.Scenario.from_xml($(xml).children());
          window.main_stuff.display();
        };

        reader.readAsText(files[0]);
      }
    </script>

  </head>
  <body>
    <div class="btn-group">
      <button id="lh" class="btn dropdown-toggle" data-toggle="dropdown">Layers</button>
      <button id="mh" class="btn">Mode</button>
    </div>
    <script>
    var lmenu = new window.LayersHandler('lh');
    lmenu.createHTML();
    </script>
      <!--navbar -->
      <div class="navbar">
          <div class="container navbar-inner">
            <ul class="nav">
              <li class="dropdown active" id="menu1">
                  <a class="dropdown-toggle" data-toggle="dropdown" href="#menu1">
                    File
                    <b class="caret"></b>
                  </a>
                  <ul class="dropdown-menu">
                    <li><a href="#">New</a></li>
                    <li class="divider"></li>
                    <input type="file" name="localNetwork" style="visibility:hidden; position:absolute"
                      id="uploadField" onchange="handleFiles(this.files)"
                      onpropertychange="handleFiles(this.files)" />
                    <li><a id="upload">Open Local Network</a></li>
                    <li><a href="#">Save Local Network</a></li>
                    <li class="divider"></li>
                    <li><a href="#">Import Local Network</a></li>
                  </ul>
                </li>
                <li class="dropdown active" id="windows">
                  <a class="dropdown-toggle" data-toggle="dropdown" href="#windows">
                    Windows
                    <b class="caret"></b>
                  </a>
                  <ul class="dropdown-menu">
                    <li><a id="nb" class="jmodal">Node Browser</a></li>
                    <li><a id="lb" class="jmodal">Link Browser</a></li>
                    <li><a id="pb" class="jmodal">Path Browser</a></li>
                    <li><a id="eb" class="jmodal">Event Browser</a></li>
                    <li><a id="cb" class="jmodal">Controller Browser</a></li>
                    <li><a id="sb" class="jmodal">Sensor Browser</a></li>
                    <li><a id="np" class="jmodal">Network Properties</a></li>
                    <li><a href="#">Map</a></li>
                    <li class="divider"></li>
                    <li><a href="#">Cascade</a></li>
                    <li><a href="#">Tile</a></li>
                    <li><a href="#">Tile + Fill Space</a></li>
                    <li><a href="#">Show All</a></li>
                  </ul>
                </li>
                <li class="dropdown active" id="tools">
                  <a class="dropdown-toggle" data-toggle="dropdown" href="#tools">
                    Tools
                    <b class="caret"></b>
                  </a>
                  <ul class="dropdown-menu">
                    <li><a href="#">Import PeMS data</a></li>
                    <li><a href="#">Calibrate</a></li>
                    <li><a href="#">Simulate</a></li>
                  </ul>
                </li>
                <li class="dropdown active" id="help">
                  <a class="dropdown-toggle" data-toggle="dropdown" href="#help">
                    Help
                    <b class="caret"></b>
                  </a>
                  <ul class="dropdown-menu">
                    <li><a data-toggle="modal" href="#about">About</a></li>
                    <li><a data-toggle="modal" href="#helpinfo">Help</a></li>
                    <li><a data-toggle="modal" href="#version">Version</a></li>
                    <li><a data-toggle="modal" href="#identity">Identity</a></li>
                    <li><a data-toggle="modal" href="#contact">Contact</a></li>
                    <li><a data-toggle="modal" href="#legal">Legal</a></li>
                  </ul>
                </li>
            </ul>
          </div>
      </div>
    <!-- Menu Modals -->
    <div id="nodebrowser" class="jdialog">
      <hr>
      <div class="row-fluid">
        <div class="span6">One</div>
        <div class="span6">Two</div>
      </div>
    </div>
    <div id="linkbrowser" class="jdialog">
      <div class="row-fluid">
        <div class="span6">One</div>
        <div class="span6">Two</div>
      </div>
    </div>
    <div id="pathbrowser" class="jdialog">
      <div class="row-fluid">
        <div class="span6">One</div>
        <div class="span6">Two</div>
      </div>
    </div>
    <div id="eventbrowser" class="jdialog">
      <div class="row-fluid">
        <div class="span6">One</div>
        <div class="span6">Two</div>
      </div>
    </div>
    <div id="controlbrowser" class="jdialog">
      <div class="row-fluid">
        <div class="span6">One</div>
        <div class="span6">Two</div>
      </div>
    </div>
    <div id="sensorbrowser" class="jdialog">
      <div class="row-fluid">
        <div class="span6">One</div>
        <div class="span6">Two</div>
      </div>
    </div>
    <div id="netprop" class="jdialog">
      <div class="row-fluid">
        <div class="span6">One</div>
        <div class="span6">Two</div>
      </div>
    </div>
    
    <!-- Help toolbar -->
    <div id="about" class="modal hide fade">
      <div class="modal-header">
        <button class="close" data-dismiss="modal">&times;</button>
        <h3>About</h3>
      </div>
      <div class="modal-body">
        <div class="row-fluid">
          <div class="span6">
          </div>
          <div class="span6">...</div>
        </div>
      </div>
      <div class="modal-footer">
        <a href="#" class="btn" data-dismiss="modal" >Close</a>
      </div>
    </div>
    
    <div id="helpinfo" class="modal hide fade">
      <div class="modal-header">
        <button class="close" data-dismiss="modal">&times;</button>
        <h3>Help</h3>
      </div>
      <div class="modal-body">
        <div class="row-fluid">
          <div class="span6">
          </div>
          <div class="span6">...</div>
        </div>
      </div>
      <div class="modal-footer">
        <a href="#" class="btn" data-dismiss="modal" >Close</a>
      </div>
    </div>
    
    <div id="version" class="modal hide fade">
      <div class="modal-header">
        <button class="close" data-dismiss="modal">&times;</button>
        <h3>Version</h3>
      </div>
      <div class="modal-body">
        <div class="row-fluid">
          <div class="span6">
          </div>
          <div class="span6">...</div>
        </div>
      </div>
      <div class="modal-footer">
        <a href="#" class="btn" data-dismiss="modal" >Close</a>
      </div>
    </div>
    
    <div id="identity" class="modal hide fade">
      <div class="modal-header">
        <button class="close" data-dismiss="modal">&times;</button>
        <h3>Identity</h3>
      </div>
      <div class="modal-body">
        <div class="row-fluid">
          <div class="span6">
          </div>
          <div class="span6">...</div>
        </div>
      </div>
      <div class="modal-footer">
        <a href="#" class="btn" data-dismiss="modal" >Close</a>
      </div>
    </div>
    
    <div id="contact" class="modal hide fade">
      <div class="modal-header">
        <button class="close" data-dismiss="modal">&times;</button>
        <h3>Contact</h3>
      </div>
      <div class="modal-body">
        <div class="row-fluid">
          <div class="span6">
          </div>
          <div class="span6">...</div>
        </div>
      </div>
      <div class="modal-footer">
        <a href="#" class="btn" data-dismiss="modal" >Close</a>
      </div>
    </div>
    
    <div id="legal" class="modal hide fade">
      <div class="modal-header">
        <button class="close" data-dismiss="modal">&times;</button>
        <h3>Legal</h3>
      </div>
      <div class="modal-body">
        <div class="row-fluid">
          <div class="span6">
          </div>
          <div class="span6">...</div>
        </div>
      </div>
      <div class="modal-footer">
        <a href="#" class="btn" data-dismiss="modal" >Close</a>
      </div>
    </div>

    <!-- end modals -->

    <div id="map_canvas">
    </div>

    <div id="right_tree" class="collapsible">
      <label for="right tree heading">Scenario Elements</label>
      <ol id="tree" >
      </ol>
    </div>
  </body>
</html>
